<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CLAIM TOKEN $GODMODE FREE MINT</title>
  
  <!-- Farcaster Mini App Meta -->
  <meta property="fc:frame" content="vNext" />
  <meta property="fc:frame:intent" content="mint" />
  <meta property="fc:frame:image" content="https://YOUR_DOMAIN.vercel.app/og.png" />
  <meta property="fc:frame:image:aspect_ratio" content="1:1" />
  <meta property="fc:frame:button:1" content="FREE MINT $GODMODE" />
  <meta property="fc:frame:button:1:action" content="tx" />
  <meta property="fc:frame:button:1:target" content="https://YOUR_DOMAIN.vercel.app/api/frame?type=tx" />
  <meta property="fc:frame:button:1:post_url" content="https://YOUR_DOMAIN.vercel.app/api/frame?type=success" />
  <meta property="fc:frame:post_url" content="https://YOUR_DOMAIN.vercel.app/api/frame" />
  
  <style>
    body{font-family:'Arial',sans-serif;margin:0;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;}
    .container{max-width:500px;padding:30px;border-radius:20px;background:rgba(255,255,255,0.05);box-shadow:0 0 30px rgba(138,43,226,0.5);backdrop-filter:blur(10px);}
    h1{text-align:center;font-size:2.5em;margin:0;background:linear-gradient(90deg,#ff00cc,#3333ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .progress{background:#333;border-radius:10px;overflow:hidden;margin:20px 0;}
    .bar{height:30px;background:linear-gradient(90deg,#00ff88,#0088ff);width:0%;transition:width 1s;}
    button{background:linear-gradient(45deg,#ff00cc,#3333ff);border:none;padding:15px 30px;border-radius:50px;font-size:1.2em;color:#fff;cursor:pointer;box-shadow:0 0 20px rgba(255,0,204,0.6);transition:0.3s;}
    button:hover{transform:scale(1.05);}
    input, select{background:rgba(255,255,255,0.1);border:1px solid #666;color:#fff;padding:12px;border-radius:10px;margin:10px 0;width:100%;}
  </style>
</head>
<body>
  <div class="container">
    <h1>CLAIM $GODMODE</h1>
    <p style="text-align:center;font-size:1.3em;">FREE MINT (tiny network fee applies)</p>
    <p style="text-align:center;">Total Supply: 1,000,000,000 $GODMODE</p>
    
    <div class="progress"><div class="bar" id="bar"></div></div>
    <p style="text-align:center;" id="progressText">Loading...</p>
    
    <select id="amount">
      <option value="1">Mint 1x → 45,000 $GODMODE (0.00012 ETH)</option>
      <option value="5">Mint 5x → 225,000 $GODMODE (0.0006 ETH)</option>
      <option value="10">Mint 10x → 450,000 $GODMODE (0.0012 ETH)</option>
      <option value="20">Mint 20x → 900,000 $GODMODE (0.0024 ETH)</option>
      <option value="50" selected>Mint 50x → 2,250,000 $GODMODE (0.006 ETH)</option>
    </select>
    
    <div style="text-align:center;margin-top:30px;">
      <button onclick="startMint()">FREE MINT NOW</button>
    </div>
  </div>

  <script>
    const CONTRACT = "0xfe0b0148A535ab66F83e19756A20A0b9fCAF1305";
    async function loadProgress() {
      const res = await fetch("/api/frame?type=info");
      const data = await res.json();
      const percent = (data.minted / 20000) * 100;
      document.getElementById("bar").style.width = percent + "%";
      document.getElementById("progressText").innerText = `${data.minted.toLocaleString()} / 20,000 mints claimed (${percent.toFixed(2)}%)`;
    }
    loadProgress();
    
    async function startMint() {
      const amount = document.getElementById("amount").value;
      location.href = `/api/frame?type=tx&amount=${amount}`;
    }
  </script>
</body>
</html>
